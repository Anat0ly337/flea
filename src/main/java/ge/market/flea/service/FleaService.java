package ge.market.flea.service;import java.util.ArrayList;import java.util.Collection;import java.util.Collections;import java.util.List;import java.util.Set;import java.util.stream.Collectors;import javax.annotation.PostConstruct;import org.bson.Document;import org.bson.conversions.Bson;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.data.mongodb.core.MongoTemplate;import org.springframework.data.mongodb.core.query.Criteria;import org.springframework.data.mongodb.core.query.Query;import org.springframework.stereotype.Service;import com.mongodb.client.FindIterable;import com.mongodb.client.MongoCollection;import com.mongodb.client.model.Filters;import static com.mongodb.client.model.Filters.*;import ge.market.flea.data.entity.Goods;import ge.market.flea.data.entity.GoodsRepository;import ge.market.flea.util.Mapper;@Servicepublic class FleaService {    @Autowired    private GoodsRepository goodsRepository;    @Autowired    private MongoTemplate mongoTemplate;    @PostConstruct    public void save() {        MongoCollection mongoCollection = mongoTemplate.getCollection("goods");        Bson bson = eq("nameSplitted", "Xiaomi, 8T");       Bson regex =  Filters.regex("nameSplitted", "Xiaomi");     Collection<Document> documents =  mongoCollection.find(regex)         .into(new ArrayList());    List<Goods> goods =  documents.stream().map(document -> Mapper.mapToGoods(document)).collect(Collectors.toList());     String i = "";    }}